# =============================================================================
# Airflow Environment Configuration
# =============================================================================

# Airflow User ID (run `id -u` on your host machine to get your UID)
# This ensures proper file permissions for mounted volumes
AIRFLOW_UID=50000

# Fernet key for Airflow encryption
# Generate with: python -c "import base64,os;print(base64.urlsafe_b64encode(os.urandom(32)).decode())"
AIRFLOW__CORE__FERNET_KEY=your_fernet_key_here

# Airflow web UI credentials
_AIRFLOW_WWW_USER_USERNAME=airflow
_AIRFLOW_WWW_USER_PASSWORD=airflow

# =============================================================================
# Database Configuration
# =============================================================================

# Airflow PostgreSQL Database
AIRFLOW_POSTGRES_USER=airflow
AIRFLOW_POSTGRES_PASSWORD=airflow
AIRFLOW_POSTGRES_DB=airflow

# Marquez PostgreSQL Database (OpenLineage)
MARQUEZ_POSTGRES_USER=marquez
MARQUEZ_POSTGRES_PASSWORD=marquez
MARQUEZ_POSTGRES_DB=marquez

# =============================================================================
# OpenLineage Configuration
# =============================================================================

OPENLINEAGE_NAMESPACE=strava-datastack

# =============================================================================
# OpenTelemetry Configuration
# =============================================================================

OTEL_COLLECTOR_HOST=otel-collector
OTEL_SERVICE_NAME=airflow

# =============================================================================
# Grafana Configuration
# =============================================================================

GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# Strava Credentials
# =============================================================================

# Note: Strava credentials are NOT stored here
# They should be configured as Airflow Variables after setup:
#   1. Run: make credentials
#   2. Or set via UI: Admin â†’ Variables
#   3. Or set via CLI: docker-compose exec airflow-webserver airflow variables set KEY VALUE
#
# Required Airflow Variables:
#   STRAVA_CLIENT_ID
#   STRAVA_CLIENT_SECRET
#   STRAVA_REFRESH_TOKEN
#
# These are read from ../extract/.env by the create-connections.sh script
